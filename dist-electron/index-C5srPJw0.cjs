"use strict";const h=require("./database-W6mAfNq9.cjs"),W=require("net"),ae=require("tls"),le=require("assert"),Y=require("tty"),fe=require("util"),de=require("os"),K=require("http"),Z=require("https"),pe=require("url");var R={},q={exports:{}},E={exports:{}},M,L;function he(){if(L)return M;L=1;var n=1e3,o=n*60,s=o*60,t=s*24,a=t*7,f=t*365.25;M=function(i,e){e=e||{};var r=typeof i;if(r==="string"&&i.length>0)return C(i);if(r==="number"&&isFinite(i))return e.long?u(i):y(i);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(i))};function C(i){if(i=String(i),!(i.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(e){var r=parseFloat(e[1]),c=(e[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return r*f;case"weeks":case"week":case"w":return r*a;case"days":case"day":case"d":return r*t;case"hours":case"hour":case"hrs":case"hr":case"h":return r*s;case"minutes":case"minute":case"mins":case"min":case"m":return r*o;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function y(i){var e=Math.abs(i);return e>=t?Math.round(i/t)+"d":e>=s?Math.round(i/s)+"h":e>=o?Math.round(i/o)+"m":e>=n?Math.round(i/n)+"s":i+"ms"}function u(i){var e=Math.abs(i);return e>=t?d(i,e,t,"day"):e>=s?d(i,e,s,"hour"):e>=o?d(i,e,o,"minute"):e>=n?d(i,e,n,"second"):i+" ms"}function d(i,e,r,c){var l=e>=r*1.5;return Math.round(i/r)+" "+c+(l?"s":"")}return M}var I,B;function Q(){if(B)return I;B=1;function n(o){t.debug=t,t.default=t,t.coerce=d,t.disable=C,t.enable=f,t.enabled=y,t.humanize=he(),t.destroy=i,Object.keys(o).forEach(e=>{t[e]=o[e]}),t.names=[],t.skips=[],t.formatters={};function s(e){let r=0;for(let c=0;c<e.length;c++)r=(r<<5)-r+e.charCodeAt(c),r|=0;return t.colors[Math.abs(r)%t.colors.length]}t.selectColor=s;function t(e){let r,c=null,l,m;function g(...p){if(!g.enabled)return;const b=g,v=Number(new Date),F=v-(r||v);b.diff=F,b.prev=r,b.curr=v,r=v,p[0]=t.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let _=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(O,ce)=>{if(O==="%%")return"%";_++;const G=t.formatters[ce];if(typeof G=="function"){const ue=p[_];O=G.call(b,ue),p.splice(_,1),_--}return O}),t.formatArgs.call(b,p),(b.log||t.log).apply(b,p)}return g.namespace=e,g.useColors=t.useColors(),g.color=t.selectColor(e),g.extend=a,g.destroy=t.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>c!==null?c:(l!==t.namespaces&&(l=t.namespaces,m=t.enabled(e)),m),set:p=>{c=p}}),typeof t.init=="function"&&t.init(g),g}function a(e,r){const c=t(this.namespace+(typeof r>"u"?":":r)+e);return c.log=this.log,c}function f(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];let r;const c=(typeof e=="string"?e:"").split(/[\s,]+/),l=c.length;for(r=0;r<l;r++)c[r]&&(e=c[r].replace(/\*/g,".*?"),e[0]==="-"?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function C(){const e=[...t.names.map(u),...t.skips.map(u).map(r=>"-"+r)].join(",");return t.enable(""),e}function y(e){if(e[e.length-1]==="*")return!0;let r,c;for(r=0,c=t.skips.length;r<c;r++)if(t.skips[r].test(e))return!1;for(r=0,c=t.names.length;r<c;r++)if(t.names[r].test(e))return!0;return!1}function u(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function d(e){return e instanceof Error?e.stack||e.message:e}function i(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}return I=n,I}var D;function Ce(){return D||(D=1,function(n,o){o.formatArgs=t,o.save=a,o.load=f,o.useColors=s,o.storage=C(),o.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),o.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function t(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;u.splice(1,0,d,"color: inherit");let i=0,e=0;u[0].replace(/%[a-zA-Z%]/g,r=>{r!=="%%"&&(i++,r==="%c"&&(e=i))}),u.splice(e,0,d)}o.log=console.debug||console.log||(()=>{});function a(u){try{u?o.storage.setItem("debug",u):o.storage.removeItem("debug")}catch{}}function f(){let u;try{u=o.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=process.env.DEBUG),u}function C(){try{return localStorage}catch{}}n.exports=Q()(o);const{formatters:y}=n.exports;y.j=function(u){try{return JSON.stringify(u)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}}(E,E.exports)),E.exports}var x={exports:{}},N,k;function me(){return k||(k=1,N=(n,o=process.argv)=>{const s=n.startsWith("-")?"":n.length===1?"-":"--",t=o.indexOf(s+n),a=o.indexOf("--");return t!==-1&&(a===-1||t<a)}),N}var T,H;function ge(){if(H)return T;H=1;const n=de,o=Y,s=me(),{env:t}=process;let a;s("no-color")||s("no-colors")||s("color=false")||s("color=never")?a=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(a=1),"FORCE_COLOR"in t&&(t.FORCE_COLOR==="true"?a=1:t.FORCE_COLOR==="false"?a=0:a=t.FORCE_COLOR.length===0?1:Math.min(parseInt(t.FORCE_COLOR,10),3));function f(u){return u===0?!1:{level:u,hasBasic:!0,has256:u>=2,has16m:u>=3}}function C(u,d){if(a===0)return 0;if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2;if(u&&!d&&a===void 0)return 0;const i=a||0;if(t.TERM==="dumb")return i;if(process.platform==="win32"){const e=n.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in t)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in t)||t.CI_NAME==="codeship"?1:i;if("TEAMCITY_VERSION"in t)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(t.TEAMCITY_VERSION)?1:0;if(t.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in t){const e=parseInt((t.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(t.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(t.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(t.TERM)||"COLORTERM"in t?1:i}function y(u){const d=C(u,u&&u.isTTY);return f(d)}return T={supportsColor:y,stdout:f(C(!0,o.isatty(1))),stderr:f(C(!0,o.isatty(2)))},T}var U;function ye(){return U||(U=1,function(n,o){const s=Y,t=fe;o.init=i,o.log=y,o.formatArgs=f,o.save=u,o.load=d,o.useColors=a,o.destroy=t.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),o.colors=[6,2,3,4,5,1];try{const r=ge();r&&(r.stderr||r).level>=2&&(o.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}o.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,c)=>{const l=c.substring(6).toLowerCase().replace(/_([a-z])/g,(g,p)=>p.toUpperCase());let m=process.env[c];return/^(yes|on|true|enabled)$/i.test(m)?m=!0:/^(no|off|false|disabled)$/i.test(m)?m=!1:m==="null"?m=null:m=Number(m),r[l]=m,r},{});function a(){return"colors"in o.inspectOpts?!!o.inspectOpts.colors:s.isatty(process.stderr.fd)}function f(r){const{namespace:c,useColors:l}=this;if(l){const m=this.color,g="\x1B[3"+(m<8?m:"8;5;"+m),p=`  ${g};1m${c} \x1B[0m`;r[0]=p+r[0].split(`
`).join(`
`+p),r.push(g+"m+"+n.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=C()+c+" "+r[0]}function C(){return o.inspectOpts.hideDate?"":new Date().toISOString()+" "}function y(...r){return process.stderr.write(t.formatWithOptions(o.inspectOpts,...r)+`
`)}function u(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function d(){return process.env.DEBUG}function i(r){r.inspectOpts={};const c=Object.keys(o.inspectOpts);for(let l=0;l<c.length;l++)r.inspectOpts[c[l]]=o.inspectOpts[c[l]]}n.exports=Q()(o);const{formatters:e}=n.exports;e.o=function(r){return this.inspectOpts.colors=this.useColors,t.inspect(r,this.inspectOpts).split(`
`).map(c=>c.trim()).join(" ")},e.O=function(r){return this.inspectOpts.colors=this.useColors,t.inspect(r,this.inspectOpts)}}(x,x.exports)),x.exports}typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?q.exports=Ce():q.exports=ye();var X=q.exports,ee={},w={},be=h.commonjsGlobal&&h.commonjsGlobal.__createBinding||(Object.create?function(n,o,s,t){t===void 0&&(t=s);var a=Object.getOwnPropertyDescriptor(o,s);(!a||("get"in a?!o.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,t,a)}:function(n,o,s,t){t===void 0&&(t=s),n[t]=o[s]}),ve=h.commonjsGlobal&&h.commonjsGlobal.__setModuleDefault||(Object.create?function(n,o){Object.defineProperty(n,"default",{enumerable:!0,value:o})}:function(n,o){n.default=o}),te=h.commonjsGlobal&&h.commonjsGlobal.__importStar||function(n){if(n&&n.__esModule)return n;var o={};if(n!=null)for(var s in n)s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)&&be(o,n,s);return ve(o,n),o};Object.defineProperty(w,"__esModule",{value:!0});w.req=w.json=w.toBuffer=void 0;const _e=te(K),Oe=te(Z);async function re(n){let o=0;const s=[];for await(const t of n)o+=t.length,s.push(t);return Buffer.concat(s,o)}w.toBuffer=re;async function we(n){const s=(await re(n)).toString("utf8");try{return JSON.parse(s)}catch(t){const a=t;throw a.message+=` (input: ${s})`,a}}w.json=we;function Fe(n,o={}){const t=((typeof n=="string"?n:n.href).startsWith("https:")?Oe:_e).request(n,o),a=new Promise((f,C)=>{t.once("response",f).once("error",C).end()});return t.then=a.then.bind(a),t}w.req=Fe;(function(n){var o=h.commonjsGlobal&&h.commonjsGlobal.__createBinding||(Object.create?function(i,e,r,c){c===void 0&&(c=r);var l=Object.getOwnPropertyDescriptor(e,r);(!l||("get"in l?!e.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(i,c,l)}:function(i,e,r,c){c===void 0&&(c=r),i[c]=e[r]}),s=h.commonjsGlobal&&h.commonjsGlobal.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),t=h.commonjsGlobal&&h.commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var r in i)r!=="default"&&Object.prototype.hasOwnProperty.call(i,r)&&o(e,i,r);return s(e,i),e},a=h.commonjsGlobal&&h.commonjsGlobal.__exportStar||function(i,e){for(var r in i)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&o(e,i,r)};Object.defineProperty(n,"__esModule",{value:!0}),n.Agent=void 0;const f=t(W),C=t(K),y=Z;a(w,n);const u=Symbol("AgentBaseInternalState");class d extends C.Agent{constructor(e){super(e),this[u]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}const{stack:r}=new Error;return typeof r!="string"?!1:r.split(`
`).some(c=>c.indexOf("(https.js:")!==-1||c.indexOf("node:https:")!==-1)}incrementSockets(e){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[e]||(this.sockets[e]=[]);const r=new f.Socket({writable:!1});return this.sockets[e].push(r),this.totalSocketCount++,r}decrementSockets(e,r){if(!this.sockets[e]||r===null)return;const c=this.sockets[e],l=c.indexOf(r);l!==-1&&(c.splice(l,1),this.totalSocketCount--,c.length===0&&delete this.sockets[e])}getName(e){return(typeof e.secureEndpoint=="boolean"?e.secureEndpoint:this.isSecureEndpoint(e))?y.Agent.prototype.getName.call(this,e):super.getName(e)}createSocket(e,r,c){const l={...r,secureEndpoint:this.isSecureEndpoint(r)},m=this.getName(l),g=this.incrementSockets(m);Promise.resolve().then(()=>this.connect(e,l)).then(p=>{if(this.decrementSockets(m,g),p instanceof C.Agent)try{return p.addRequest(e,l)}catch(b){return c(b)}this[u].currentSocket=p,super.createSocket(e,r,c)},p=>{this.decrementSockets(m,g),c(p)})}createConnection(){const e=this[u].currentSocket;if(this[u].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[u].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[u]&&(this[u].defaultPort=e)}get protocol(){return this[u].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[u]&&(this[u].protocol=e)}}n.Agent=d})(ee);var A={},je=h.commonjsGlobal&&h.commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(A,"__esModule",{value:!0});A.parseProxyResponse=void 0;const Se=je(X),P=(0,Se.default)("https-proxy-agent:parse-proxy-response");function Ee(n){return new Promise((o,s)=>{let t=0;const a=[];function f(){const i=n.read();i?d(i):n.once("readable",f)}function C(){n.removeListener("end",y),n.removeListener("error",u),n.removeListener("readable",f)}function y(){C(),P("onend"),s(new Error("Proxy connection ended before receiving CONNECT response"))}function u(i){C(),P("onerror %o",i),s(i)}function d(i){a.push(i),t+=i.length;const e=Buffer.concat(a,t),r=e.indexOf(`\r
\r
`);if(r===-1){P("have not received end of HTTP headers yet..."),f();return}const c=e.slice(0,r).toString("ascii").split(`\r
`),l=c.shift();if(!l)return n.destroy(),s(new Error("No header received from proxy CONNECT response"));const m=l.split(" "),g=+m[1],p=m.slice(2).join(" "),b={};for(const v of c){if(!v)continue;const F=v.indexOf(":");if(F===-1)return n.destroy(),s(new Error(`Invalid header from proxy CONNECT response: "${v}"`));const _=v.slice(0,F).toLowerCase(),S=v.slice(F+1).trimStart(),O=b[_];typeof O=="string"?b[_]=[O,S]:Array.isArray(O)?O.push(S):b[_]=S}P("got proxy server response: %o %o",l,b),C(),o({connect:{statusCode:g,statusText:p,headers:b},buffered:e})}n.on("error",u),n.on("end",y),f()})}A.parseProxyResponse=Ee;var xe=h.commonjsGlobal&&h.commonjsGlobal.__createBinding||(Object.create?function(n,o,s,t){t===void 0&&(t=s);var a=Object.getOwnPropertyDescriptor(o,s);(!a||("get"in a?!o.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(n,t,a)}:function(n,o,s,t){t===void 0&&(t=s),n[t]=o[s]}),Pe=h.commonjsGlobal&&h.commonjsGlobal.__setModuleDefault||(Object.create?function(n,o){Object.defineProperty(n,"default",{enumerable:!0,value:o})}:function(n,o){n.default=o}),ne=h.commonjsGlobal&&h.commonjsGlobal.__importStar||function(n){if(n&&n.__esModule)return n;var o={};if(n!=null)for(var s in n)s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)&&xe(o,n,s);return Pe(o,n),o},oe=h.commonjsGlobal&&h.commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(R,"__esModule",{value:!0});var se=R.HttpsProxyAgent=void 0;const $=ne(W),z=ne(ae),$e=oe(le),Re=oe(X),Ae=ee,Me=pe,Ie=A,j=(0,Re.default)("https-proxy-agent"),V=n=>n.servername===void 0&&n.host&&!$.isIP(n.host)?{...n,servername:n.host}:n;class ie extends Ae.Agent{constructor(o,s){super(s),this.options={path:void 0},this.proxy=typeof o=="string"?new Me.URL(o):o,this.proxyHeaders=(s==null?void 0:s.headers)??{},j("Creating new HttpsProxyAgent instance: %o",this.proxy.href);const t=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),a=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...s?J(s,"headers"):null,host:t,port:a}}async connect(o,s){const{proxy:t}=this;if(!s.host)throw new TypeError('No "host" provided');let a;t.protocol==="https:"?(j("Creating `tls.Socket`: %o",this.connectOpts),a=z.connect(V(this.connectOpts))):(j("Creating `net.Socket`: %o",this.connectOpts),a=$.connect(this.connectOpts));const f=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},C=$.isIPv6(s.host)?`[${s.host}]`:s.host;let y=`CONNECT ${C}:${s.port} HTTP/1.1\r
`;if(t.username||t.password){const r=`${decodeURIComponent(t.username)}:${decodeURIComponent(t.password)}`;f["Proxy-Authorization"]=`Basic ${Buffer.from(r).toString("base64")}`}f.Host=`${C}:${s.port}`,f["Proxy-Connection"]||(f["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(const r of Object.keys(f))y+=`${r}: ${f[r]}\r
`;const u=(0,Ie.parseProxyResponse)(a);a.write(`${y}\r
`);const{connect:d,buffered:i}=await u;if(o.emit("proxyConnect",d),this.emit("proxyConnect",d,o),d.statusCode===200)return o.once("socket",Ne),s.secureEndpoint?(j("Upgrading socket connection to TLS"),z.connect({...J(V(s),"host","path","port"),socket:a})):a;a.destroy();const e=new $.Socket({writable:!1});return e.readable=!0,o.once("socket",r=>{j("Replaying proxy buffer for failed request"),(0,$e.default)(r.listenerCount("data")>0),r.push(i),r.push(null)}),e}}ie.protocols=["http","https"];se=R.HttpsProxyAgent=ie;function Ne(n){n.resume()}function J(n,...o){const s={};let t;for(t in n)o.includes(t)||(s[t]=n[t]);return s}const Te=Object.freeze(Object.defineProperty({__proto__:null,get HttpsProxyAgent(){return se},default:R},Symbol.toStringTag,{value:"Module"}));exports.index=Te;
